name: Arma

on:
  push:
    branches: [ "development" ]
    paths-ignore:
      - ".github/**"
      - "SOG_Framework/core/main/script_version.hpp"
      - "tools/**"
      - ".gitignore"
  pull_request:
  
  workflow_dispatch:

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout the source code
        uses: actions/checkout@v2
        
      - name: Validate SQF
        run: python3 tools/sqf_validator.py
        
      - name: Check for BOM
        uses: arma-actions/bom-check@v1
        
  lint:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout the source code
        uses: actions/checkout@main
        
      - name: Lint (SQFLint)
        uses: arma-actions/sqflint@main
        continue-on-error: true
